---
import { getCollection } from 'astro:content';

const footerCollection = await getCollection('footer');
const footerContent = footerCollection[0];
const marqueeLinks = footerContent?.data?.marqueeLinks;
---

<div class="mobile-marquee">
    <div class="mobile-marquee-content">
        {marqueeLinks?.map((link, i) => (
            <a key={i} href={link.url} class="mobile-marquee-link">
                {link.text}
            </a>
        ))}
    </div>
</div>

<style>
    .mobile-marquee {
        display: none;
        width: 100%;
        height: 100%;
        overflow-y: auto;
        z-index: 2;
        -webkit-overflow-scrolling: touch;
    }

    .mobile-marquee-content {
        display: flex;
        flex-direction: column;
        align-items: first baseline;
        justify-content: center;
        min-height: 100%;
        padding: 1rem;
    }

    .mobile-marquee-link {
        color: var(--accent);
        background-color: var(--white);
        text-decoration: none;
        font-size: 1rem;
        margin: 1rem 0;
        pointer-events: auto;
        transition: color 0.3s ease;
        text-align: center;
        padding: 0.5rem;
        position: relative;
        backdrop-filter: sepia(90%);
    }

    .mobile-marquee-link:hover {
        color: var(--accent);
    }

    .mobile-marquee-separator {
        color: var(--accent-light);
        text-align: center;
        margin: 5px 0;
    }

    @keyframes mobileMarquee {
        0% { transform: translateY(100%); }
        100% { transform: translateY(-100%); }
    }

    @media (max-width: 767px) {
        .mobile-marquee {
            display: block;
        }
    }
</style>
